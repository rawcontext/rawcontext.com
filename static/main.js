function O(){if(document.fonts)document.fonts.ready.then(()=>{document.documentElement.classList.add("fonts-loaded")}).catch(()=>{document.documentElement.classList.add("fonts-failed")}),setTimeout(()=>{if(!document.documentElement.classList.contains("fonts-loaded"))document.documentElement.classList.add("fonts-failed")},3000);else document.documentElement.classList.add("fonts-loaded")}function P(){let q=document.querySelector(".constellation-grid");if(!q)return;let B=20;for(let j=0;j<B;j++){let f=document.createElement("div");f.className="constellation-node",f.style.left=Math.random()*100+"%",f.style.top=Math.random()*100+"%",f.style.animationDelay=`${Math.random()*2}s, ${Math.random()*4}s`,q.appendChild(f)}}function Q(){let B=new IntersectionObserver((j)=>{j.forEach((f)=>{if(f.isIntersecting)f.target.classList.add("in-view")})},{threshold:0.1,rootMargin:"0px 0px -10% 0px"});document.querySelectorAll(".service-card").forEach((j)=>{B.observe(j),j.addEventListener("mousemove",(f)=>{let D=j.getBoundingClientRect(),H=(f.clientX-D.left)/D.width*100,E=(f.clientY-D.top)/D.height*100;j.style.setProperty("--mouse-x",`${H}%`),j.style.setProperty("--mouse-y",`${E}%`)})})}var J=null;window.onTurnstileVerify=(q)=>{J=q};function R(){let q=document.getElementById("waitlist-form");if(!q)return;q.addEventListener("submit",async(B)=>{B.preventDefault();let j=q.querySelector("button"),f=q.querySelector(".waitlist-message"),D=q.querySelector('input[name="email"]'),H=D.value;if(!J){f.className="waitlist-message error",f.textContent="Please complete the verification.";return}j.classList.add("loading"),j.disabled=!0,f.className="waitlist-message",f.textContent="";try{let E=await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:H,turnstileToken:J})}),K=await E.json();if(E.ok){if(f.className="waitlist-message success",f.textContent="You're on the list. We'll be in touch.",D.value="",J=null,typeof turnstile<"u")turnstile.reset()}else f.className="waitlist-message error",f.textContent=K.error||"Something went wrong. Try again."}catch{f.className="waitlist-message error",f.textContent="Connection failed. Try again."}finally{j.classList.remove("loading"),j.disabled=!1}})}function U(){let q=document.getElementById("solar-system");if(!q)return;let B=q.parentElement;if(!B)return;B.addEventListener("mousemove",(j)=>{let f=B.getBoundingClientRect(),D=f.left+f.width/2,H=f.top+f.height/2,E=(j.clientX-D)/f.width,M=(j.clientY-H)/f.height*15,N=E*-15;q.style.transform=`translate(-50%, -50%) rotateX(${M}deg) rotateY(${N}deg)`}),B.addEventListener("mouseleave",()=>{q.style.transform="translate(-50%, -50%) rotateX(0deg) rotateY(0deg)"})}O();document.addEventListener("DOMContentLoaded",()=>{P(),Q(),R(),U()});
