function M(){if(document.fonts)document.fonts.ready.then(()=>{document.documentElement.classList.add("fonts-loaded")}).catch(()=>{document.documentElement.classList.add("fonts-failed")}),setTimeout(()=>{if(!document.documentElement.classList.contains("fonts-loaded"))document.documentElement.classList.add("fonts-failed")},3000);else document.documentElement.classList.add("fonts-loaded")}function N(){let k=document.querySelector(".constellation-grid");if(!k)return;let q=20;for(let j=0;j<q;j++){let f=document.createElement("div");f.className="constellation-node",f.style.left=Math.random()*100+"%",f.style.top=Math.random()*100+"%",f.style.animationDelay=`${Math.random()*2}s, ${Math.random()*4}s`,k.appendChild(f)}}function O(){let q=new IntersectionObserver((j)=>{j.forEach((f)=>{if(f.isIntersecting)f.target.classList.add("in-view")})},{threshold:0.1,rootMargin:"0px 0px -10% 0px"});document.querySelectorAll(".service-card").forEach((j)=>{q.observe(j),j.addEventListener("mousemove",(f)=>{let B=j.getBoundingClientRect(),E=(f.clientX-B.left)/B.width*100,D=(f.clientY-B.top)/B.height*100;j.style.setProperty("--mouse-x",`${E}%`),j.style.setProperty("--mouse-y",`${D}%`)})})}function P(){let k=document.getElementById("waitlist-form");if(!k)return;k.addEventListener("submit",async(q)=>{q.preventDefault();let j=k.querySelector("button"),f=k.querySelector(".waitlist-message"),B=k.querySelector('input[name="email"]'),E=B.value;j.classList.add("loading"),j.disabled=!0,f.className="waitlist-message",f.textContent="";try{let D=await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E})}),H=await D.json();if(D.ok)f.className="waitlist-message success",f.textContent="You're on the list. We'll be in touch.",B.value="";else f.className="waitlist-message error",f.textContent=H.error||"Something went wrong. Try again."}catch{f.className="waitlist-message error",f.textContent="Connection failed. Try again."}finally{j.classList.remove("loading"),j.disabled=!1}})}function Q(){let k=document.getElementById("solar-system");if(!k)return;let q=k.parentElement;if(!q)return;q.addEventListener("mousemove",(j)=>{let f=q.getBoundingClientRect(),B=f.left+f.width/2,E=f.top+f.height/2,D=(j.clientX-B)/f.width,J=(j.clientY-E)/f.height*15,K=D*-15;k.style.transform=`translate(-50%, -50%) rotateX(${J}deg) rotateY(${K}deg)`}),q.addEventListener("mouseleave",()=>{k.style.transform="translate(-50%, -50%) rotateX(0deg) rotateY(0deg)"})}M();document.addEventListener("DOMContentLoaded",()=>{N(),O(),P(),Q()});
